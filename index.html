<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spline Hero (Full‑Bleed + Fixed Zoom)</title>
  <!-- Spline Viewer JS Module -->
  <script type="module" src="https://unpkg.com/@splinetool/viewer@1.10.52/build/spline-viewer.js"></script>
  <style>
    :root{
      /* Keep the visual "zoom" by scaling FROM this base size */
      --design-w: 1440; /* px */
      --design-h: 810;  /* px */
    }

    *{ box-sizing: border-box }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: transparent;      /* let Spline scene background show */
      overflow-x: hidden;           /* no side gaps */
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, sans-serif;
    }

    /* --- HERO: full-bleed, pinned to top, no side lines --- */
    .hero {
      width: 100vw;                 /* stick to sides */
      height: 100dvh;               /* full dynamic viewport height */
      display: grid;
      place-items: center;
      overflow: hidden;             /* hide any letterbox area */
      background: transparent;      /* don't overlay white — show scene bg */
      position: relative;           /* at top by default */
      isolation: isolate;
    }

    .stage {
      width: 100vw;
      height: 100dvh;
      display: grid;
      place-items: center;
      overflow: hidden;
      position: relative;
      background: transparent;
    }

    /* Fixed-size canvas we scale (keeps identical framing across screens) */
    .design {
      width: calc(var(--design-w) * 1px);
      height: calc(var(--design-h) * 1px);
      transform-origin: center center;
      will-change: transform;
      display: grid;
      backface-visibility: hidden; /* prevent hairline gaps */
    }

    .design spline-viewer {
      width: 100%;
      height: 100%;
      display: block;
      background: transparent;      /* rely on scene's own background */
    }

    /* White content section below (optional) */
    .below {
      min-height: 100vh;
      background: #fff;
      padding: clamp(16px, 4vw, 48px);
      display: grid;
      align-content: start;
      gap: 2rem;
    }

    .below h2{ font-size: clamp(22px, 3vw, 40px); margin: 0; }
    .below p{ max-width: 70ch; line-height: 1.6; margin: 0; }

    @media (max-height: 520px){
      .hero{ height: 520px; }
      .stage{ height: 520px; }
    }
  </style>
</head>
<body>
  <!-- HERO (full-bleed, fixed zoom, scene bg visible) -->
  <section class="hero" id="hero">
    <div class="stage" id="stage">
      <div class="design" id="design">
        <spline-viewer
          url="https://prod.spline.design/LpU4YbAeiD3BevwJ/scene.splinecode"
        ></spline-viewer>
      </div>
    </div>
  </section>

  <!-- WHITE SECTION UNDER HERO -->
  <section class="below">
    <h2>Below the Hero</h2>
    <p>Add your normal page content here. The hero above stays full‑bleed and keeps the same visual zoom across devices.</p>
  </section>

  <script>
    // Fixed-zoom scaler: scales the fixed canvas to fit hero without changing framing
    (function(){
      const DESIGN_W = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--design-w')) || 1440;
      const DESIGN_H = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--design-h')) || 810;
      const hero   = document.getElementById('hero');
      const design = document.getElementById('design');

      function fit(){
        const rect = hero.getBoundingClientRect();
        const scale = Math.min(rect.width / DESIGN_W, rect.height / DESIGN_H);
        design.style.transform = `scale(${scale}) translateZ(0)`; // translateZ avoids hairlines on some GPUs
      }

      addEventListener('resize', fit, { passive: true });
      addEventListener('orientationchange', fit, { passive: true });
      document.fonts?.ready?.then(fit).catch(fit);
      new ResizeObserver(fit).observe(hero);
      fit();
    })();
  </script>
</body>
</html>
